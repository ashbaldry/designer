var b=class{name;navbar_item_style="none";bs4_item_style="none";enable_on_load=!0;page_html;updateComponentDropdown(){$(".navbar-tab-item").css("display",this.navbar_item_style),$(".bs4-item").css("display",this.bs4_item_style);let t=this.navbar_item_style==="none"?"header":"tab";$(`#sidebar-${t}-body`).hasClass("show")||$(`#sidebar-${t}-header button`).trigger("click")}getPageHTML(t,e=""){return t.replaceAll("$page_id$",this.getTabID()).replaceAll("$title$",e)}updatePage(){let t=$("#canvas-title").html();$(".page-canvas").html(this.getPageHTML(this.page_html,t))}enableSortablePage(t,e="id"){e==="id"?Sortable.create(document.getElementById(t),{group:{name:"shared",put:function(a,n,i){return!i.classList.contains("col-sm")}}}):document.getElementsByClassName(t).forEach(a=>{Sortable.create(a,{group:{name:"shared",put:function(n,i,l){return!l.classList.contains("col-sm")}}})})}getTabID(){return Math.round(Math.random()*8999+1e3)}};var P=class extends b{name="basicPage";enable_on_load=!1;page_html='<div id="canvas-page" class="container-fluid dimmed-canvas-page"></div>'};var k=class extends b{name="fillPage";page_html=`
        <div id="canvas-page" class="designer-page-template" 
             data-shinyfunction="fillPage"
             data-shinyattributes="title = &quot;$title$&quot;, theme = bslib::bs_theme(4)"></div>
    `};var T=class extends b{name="fixedPage";page_html=`
        <div id="canvas-page" class="designer-page-template container" 
             data-shinyfunction="fixedPage"
             data-shinyattributes="title = &quot;$title$&quot;, theme = bslib::bs_theme(4)"></div>
    `};var D=class extends b{name="fluidPage";page_html=`
        <div id="canvas-page" class="designer-page-template container-fluid" 
             data-shinyfunction="fluidPage"
             data-shinyattributes="title = &quot;$title$&quot;, theme = bslib::bs_theme(4)"></div>
    `};var S=class extends b{name="bootstrapPage";page_html=`
    <div id="canvas-page" class="designer-page-template container-fluid" data-shinyfunction="bootstrapPage"
      data-shinyattributes="title = &quot;$title$&quot;, theme = bslib::bs_theme(4)"></div>
  `};var L=class extends b{name="navbarPage";navbar_item_style="";enable_on_load=!1;page_html=`
        <div class="designer-page-template">
            <nav class="navbar navbar-default navbar-static-top" role="navigation">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <span class="navbar-brand">$title$</span>
                    </div>
                    <ul class="nav navbar-nav" data-tabsetid="$page_id$"></ul>
                </div>
            </nav>
            <div class="container-fluid navbar-page-tabs">
                <div id="canvas-page" class="tab-content"
                     data-tabsetid="$page_id$" data-shinyfunction="navbarPage"
                     data-shinyattributes="title = &quot;$title$&quot;, theme = bslib::bs_theme(4)"></div>
            </div>
        </div>
    `};var M=class extends b{name="dashboardPage";navbar_item_style="";bs4_item_style="";enable_on_load=!1;page_html=`
        <div id="canvas-page" class="wrapper designer-page-template"
             data-shinyfunction="bs4Dash::dashboardPage" data-shinyattributes="title = &quot;$title$&quot;">
            <nav data-fixed="false" class="main-header navbar navbar-expand navbar-light"
                 data-shinyfunction="bs4Dash::dashboardHeader" data-shinyattributes="title = &quot;$title$&quot;">
                <ul class="navbar-nav">
                    <a class="nav-link" data-widget="pushmenu" href="#">
                        <i class="fa fa-bars" role="presentation" aria-label="bars icon"></i>
                    </a>
                </ul>
                <ul class="navbar-nav ml-auto navbar-right"></ul>
            </nav>
            <aside id="sidebarId" data-fixed="true" data-minified="true" data-collapsed="false"
                   data-disable="FALSE" class="main-sidebar sidebar-dark-primary elevation-4"
                   data-shinyfunction="bs4Dash::dashboardSidebar">
                <div class="brand-link">$title$</div>
                <div class="sidebar" id="sidebarItemExpanded">
                    <nav class="mt-2">
                        <ul class="nav nav-pills nav-sidebar flex-column sidebar-menu nav-child-indent"
                            data-widget="treeview" role="menu" data-accordion="true" data-shinyfunction="bs4Dash::sidebarMenu">
                            <div id="tabs_$page_id$" class="sidebarMenuSelectedTabItem"></div>
                        </ul>
                    </nav>
                </div>
            </aside>
            <div class="content-wrapper" data-shinyfunction="bs4Dash::dashboardBody">
                <section class="content">
                    <div class="tab-content"></div>
                </section>
            </div>
        </div>
    `};function rt(){$("#settings-page_type").on("click",()=>$(".canvas-modal").css("display","none")),$(".copy-ui-button").on("click",Ct),$("#css_style").on("change",Dt),$("#remove_label").on("change",vt),$("#remove_colour").on("change",_t),$("#remove_border").on("change",yt),$("#canvas_clear").on("click",wt),$("#confirm_clear").on("click",xt),$(".component-accordion .card-header button").on("click",Pt),$("body").on("click",()=>{document.querySelector("body").classList.contains("sidebar-mini")&&document.querySelector("body").classList.remove("sidebar-mini")}),$(document).on("click",".clickable-dropdown",s=>{s.stopPropagation()}),$("#preview").on("click",()=>{$(".page-canvas-shell").addClass("preview")}),$("#canvas-close_preview").on("click",()=>{$(".page-canvas-shell").removeClass("preview")}),Shiny.addCustomMessageHandler("toggleBS4DashDeps",qt),Shiny.addCustomMessageHandler("runjs",function(s){(0,eval)(s.script)}),$("body").on("click contextmenu",ot),$("#canvas-canvas").on("contextmenu",It),$("#canvas-menu").on("contextmenu",s=>{s.preventDefault()}),$("#sidebar-container").on("mousedown",ot),$("#canvas-delete").on("click",Tt),$("#settings-template-search").on("input",St),$(".template-option").on("click",Lt)}function vt(){this.checked?$(".designer-page-template").removeClass("hidden-after-label"):$(".designer-page-template").addClass("hidden-after-label")}function _t(){this.checked?$(".designer-page-template").removeClass("hidden-colour"):$(".designer-page-template").addClass("hidden-colour")}function yt(){this.checked?$(".designer-page-template").removeClass("hidden-borders"):$(".designer-page-template").addClass("hidden-borders")}function wt(){if($("#canvas-page").html()===""||$("#canvas-page.wrapper .tab-content").html()==="")return null;$("#clear_modal").modal()}function xt(){$("#canvas-page").html("")}function Ct(){let s=document.getElementById("settings-code-code").textContent;navigator.clipboard.writeText(s),$("#copy_toast").toast("show")}function qt(s){let t=document.styleSheets;for(let e=0;e<t.length;e++){let a=t.item(e);a.href&&(a.href.includes("AdminLTE")||a.href.includes("bs4Dash"))&&(a.disabled=s==="hide")}}function Pt(){let s=this.closest(".card-header").id;setTimeout(()=>{document.getElementById(s).scrollIntoView({behavior:"smooth",block:"start"}),$(this).trigger("blur")},250)}var ct;function It(s){if($(s.target).closest(".designer-element").length===0)return;s.preventDefault();let{clientX:t,clientY:e}=s,{normalizedX:a,normalizedY:n}=kt(t,e);ct=$(s.target).closest(".designer-element"),$("#canvas-menu").css("top",`${n}px`),$("#canvas-menu").css("left",`${a}px`),$("#canvas-menu").removeClass("visible"),setTimeout(()=>{$("#canvas-menu").addClass("visible")})}function kt(s,t){let e=document.getElementById("canvas-canvas"),a=document.getElementById("canvas-menu"),{left:n,top:i}=e.getBoundingClientRect();n=n<0?0:n,i=i<0?0:i;let l=s-n,o=t-i,r=l+a.clientWidth>e.clientWidth,d=o+a.clientHeight>e.clientHeight,u=s,p=t;return r&&(u=n+e.clientWidth-a.clientWidth),d&&(p=i+e.clientHeight-a.clientHeight),{normalizedX:u,normalizedY:p}}function ot(){$("#canvas-menu").removeClass("visible")}function Tt(s){ct.remove()}function Dt(s){let t=s.target.files[0],e=document.getElementById("canvas-style");e.innerHTML="";let a=new FileReader;a.onload=n=>{let l=n.target.result.split(/\r\n|\n|(?<=\}\b)/);e.innerHTML=l.join(`
`);let o=e.sheet.cssRules;for(let r=0;r<o.length;r++)if(o[r].selectorText)o[r].selectorText=lt(o[r].selectorText);else if(o[r].media&&o[r].cssRules){let d=o[r].cssRules;for(let u=0;u<d.length;u++)d[u].selectorText=lt(d[u].selectorText)}},a.onerror=n=>alert(n.target.error.name),a.readAsText(t)}function lt(s){return s.split(/, */g).map(t=>t==="body"?"#canvas-page":/^\.wrapper\.sidebar/.test(t)?t.replace(".wrapper",""):"#canvas-page "+t).join(", ")}var Z=!1;function tt(){return Z}function dt(){Z=!1}function St(s){let t=s.target.value?s.target.value:"";document.getElementsByClassName("template-option").forEach(e=>{let a=$(e).find(".title").html().includes(t)||$(e).find(".description").html().includes(t);e.style.display=a?null:"none"})}function Lt(s){let t=$(s.target).closest(".template-option"),e=t.data("page");Z=!0;let a=$(s.target).closest(".delete").length>0||s.target.classList.contains("delete");a||$("#settings-page_type").find(`input[value='${e}']`).trigger("click"),document.getElementById("settings-template-search").value=null,$("#settings-template-search").trigger("input"),Shiny.setInputValue("settings-template-select",t.data("value")),Shiny.setInputValue("settings-template-delete",a)}var m;function y(){let s=$("#settings-page_type input:radio:checked").val();return s==="basicPage"?m=new P:s==="fillPage"?m=new k:s==="fixedPage"?m=new T:s==="fluidPage"?m=new D:s==="bootstrapPage"?m=new S:s==="navbarPage"?m=new L:s==="dashboardPage"?m=new M:m=new P,m.updatePage(),tt()?dt():m.enable_on_load&&m.enableSortablePage("canvas-page"),m.updateComponentDropdown(),m}function ut(){let s=$(this);$(this).hasClass("canvas-page-choice")||(s=$(this).closest(".canvas-page-choice")),s.closest(".canvas-modal").css("display","none");let t=s.data("page");$("#settings-page_type").find(`input[value='${t}']`).trigger("click")}function pt(){if(tt())return null;$("#canvas-page").html()===""||$("#canvas-page.wrapper .tab-content").html()===""?($("#canvas-page").html("<div></div>"),y()):$("#warning_modal").modal()}function mt(){$(`#settings-page_type input[value="${m.name}"]`).trigger("click")}function ht(s){let t=$(s.target).val();if($("#canvas-title").html(t),$(".navbar-brand").html(t),$(".brand-link").html(t),$("#canvas-page").data("shinyattributes")){let e=$("#canvas-page").data("shinyattributes").replace(/"[^"]+"/,`"${t}"`);$("#canvas-page").attr("data-shinyattributes",e)}if($("#canvas-page>.main-header").data("shinyattributes")){let e=$("#canvas-page>.main-header").data("shinyattributes").replace(/"[^"]+"/,`"${t}"`);$("#canvas-page>.main-header").attr("data-shinyattributes",e)}}function bt(){y(),$(".canvas-page-choice").on("click",ut),$("#settings-page_type").on("change",pt),$("#cancel_reset").on("click",mt),$("#confirm_reset").on("click",y),$("#app_name").on("change keyup",ht)}function $t(){Shiny.addCustomMessageHandler("prepare_canvas_screenshot",s=>{$(".designer-page-template").addClass("hidden-after-label"),$(".designer-page-template").addClass("hidden-colour"),$(".designer-page-template").addClass("hidden-borders")}),Shiny.addCustomMessageHandler("revert_canvas_screenshot",s=>{$("#remove_label").trigger("change"),$("#remove_colour").trigger("change"),$("#remove_border").trigger("change")})}var g,c=class{updatable=!0;display_comments=!0;display_container=!0;has_card_body=!1;is_tab=!1;html="<div></div>";sortable_settings=null;constructor(){g=this}createComponent(){return this.html}replaceHTMLPlaceholders(t,e){for(let a in e)t=t.replaceAll("$"+a+"$",e[a]);return t}updateComponent(t=!1){if(typeof window>"u")return null;$(".component-container").html(null);let e=this.createComponent();$(".component-container").html(e),this.addComments(),t&&this.enableSortable()}enableSortable(){Sortable.create(document.getElementById("sidebar-container"),{group:{name:"shared",pull:"clone",put:!1},onClone:function(t){g.sortable_settings&&(g.has_card_body?Sortable.create($(t.item).find(".card-body")[0],g.sortable_settings):g.is_tab?Sortable.create($(t.item).find(".tab-content"),g.sortable_settings):Sortable.create(t.item,g.sortable_settings))},onEnd:function(t){$('.page-canvas [data-toggle="tooltip"]').tooltip(),(g.updatable||$("#sidebar-comments").val()!=="")&&($("#sidebar-comments").val(""),g.updateComponent())}})}addComments(){let t=$("#sidebar-comments").val();t&&($(".component-container>.designer-element").attr("data-shinycomments",t),$(".component-container>.designer-element").attr("title",t),$(".component-container>.designer-element").attr("data-toggle","tooltip"))}createID(t=""){return t=t&&t+"_",t+Math.random().toString(36).substring(2,12)}validateCssUnit(t,e){return this._regex.test(t)?t:/^\d+$/.test(t)?t+"px":e}_regex=/^(auto|inherit|fit-content|calc\(.*\)|((\.\d+)|(\d+(\.\d+)?))(%|in|cm|mm|ch|em|ex|rem|pt|pc|px|vh|vw|vmin|vmax))$/};var I=class extends c{html='<$tag$ class="designer-element" data-shinyfunction="$tag$">$value$</$tag$>';constructor(){super(),this.updateComponent(!0)}createComponent(){let t=$("#sidebar-header-tag").val(),e=$("#sidebar-header-text").val();return this.replaceHTMLPlaceholders(this.html,{tag:t,value:e})}};var w=class extends c{updatable=!1;html='<div class="designer-element row row-designer" data-shinyfunction="fluidRow"></div>';constructor(t=!0){super(),t&&this.updateComponent(!0)}sortable_settings={group:{name:"shared",put:function(t,e,a){return a.classList.contains("col-sm")}}}};var x=class extends c{updatable=!1;html='<div class="designer-element col-sm col-sm-$width$$offset_class$" data-shinyfunction="column" data-shinyattributes="width = $width$$offset_r$"></div>';sortable_settings={group:{name:"shared",put:function(t,e,a){return!a.classList.contains("col-sm")}}};constructor(t=!0){super(),t&&this.updateComponent(!0)}createComponent(){let t=$("#sidebar-column-width_num").val(),e=$("#sidebar-column-offset").val(),a=e>0?` offset-md-${e}`:"",n=e>0?`, offset = ${e}`:"";return this.replaceHTMLPlaceholders(this.html,{width:t,offset_class:a,offset_r:n})}};var B=class extends c{html='<$tag$ class="designer-element" data-shinyfunction="tags$$tag$">$value$</$tag$>';constructor(){super(),this.updateComponent(!0)}createComponent(){let t=$("#sidebar-text-tag").val(),e=$("#sidebar-text-textarea").val(),a=t==="p"?e.replace(/\n/g," "):this.createListItems(e);return this.replaceHTMLPlaceholders(this.html,{tag:t,value:a})}createListItems(t){return t.split(`
`).map(e=>'<li data-shinyfunction="tags$li">'+e+"</li>").join("")}};var C=class extends c{updatable=!1;html='<div class="designer-element shiny-input-panel shiny-flow-layout" data-shinyfunction="inputPanel"></div>';constructor(t=!0){super(),t&&this.updateComponent(!0)}sortable_settings={group:{name:"shared",put:function(t,e,a){return a.classList.contains("form-group")||a.classList.contains("btn")}}}};var H=class extends c{constructor(t){super(),this.type=t,this.updateComponent(!0)}types=[{value:"text_input",label:"Text",r_func:"textInput"},{value:"textarea",label:"Textarea",r_func:"textAreaInput"},{value:"numeric",label:"Numeric",r_func:"numericInput"},{value:"password",label:"Password",r_func:"passwordInput"}];html=`
        <div class="designer-element form-group shiny-input-container" 
             $style_str$
             data-shinyattributes="inputId = &quot;$id$&quot;, label = &quot;label&quot;$width_str$"
             data-shinyfunction="$r_func$"><label class="control-label">$label$</label>$input_tag$</div>
    `;createComponent(){let t=$(`#sidebar-${this.type}-label`).val(),e=$(`#sidebar-${this.type}-id`).val();e=e===""?this.createID("input"):e;let a=this.types.find(d=>d.value===this.type);if(!a)return;let n=a.r_func,i;this.type==="textarea"?i='<textarea class="form-control" placeholder="Textarea input"></textarea>':i=`<input class="form-control" type="${this.type}" placeholder="${a.label} input">`;let l=this.validateCssUnit($(`#sidebar-${this.type}-width`).val()),o=l?`style="width: ${l};"`:"",r=l?`, width = &quot;${l}&quot;`:"";return this.replaceHTMLPlaceholders(this.html,{id:e,label:t,r_func:n,input_tag:i,style_str:o,width_str:r})}};var E=class extends c{html=`
        <div class="designer-element form-group shiny-input-container"
             data-shinyfunction="fileInput" $style_str$
             data-shinyattributes="inputId = &quot;$id$&quot;, label = &quot;$label$&quot;$width_str$">
            <label class="control-label">$label$</label>
            <div class="input-group">
                <label class="input-group-btn input-group-prepend">
                    <span class="btn btn-default btn-file">
                        Browse...
                        <input type="file" style="position: absolute !important; top: -99999px !important; left: -99999px !important;"/>
                    </span>
                </label>
                <input type="text" class="form-control" placeholder="No file selected" readonly="readonly"/>
            </div>
        </div>
    `;constructor(){super(),this.updateComponent(!0)}createComponent(){let t=$("#sidebar-file-label").val(),e=$("#sidebar-file-id").val();e=e===""?this.createID("input"):e;let a=this.validateCssUnit($("#sidebar-file-width").val()),n=a?`style="width: ${a};"`:"",i=a?`, width = &quot;${a}&quot;`:"";return this.replaceHTMLPlaceholders(this.html,{id:e,label:t,style_str:n,width_str:i})}};var N=class extends c{html=`
        <div class="designer-element form-group shiny-input-container" $style_str$
             data-shinyattributes="inputId = &quot;$id$&quot;, label = &quot;$label$&quot;, choices = NULL$width_str$"
             data-shinyfunction="selectInput">
             <label class="control-label">$label$</label>
             <div>
                <select>
            </div>
        </div>
    `;constructor(){super(),this.updateComponent(!0)}createComponent(){let t=$("#sidebar-dropdown-label").val(),e=$("#sidebar-dropdown-id").val();e=e===""?this.createID("input"):e;let a=this.validateCssUnit($("#sidebar-dropdown-width").val()),n=a?`style="width: ${a};"`:"",i=a?`, width = &quot;${a}&quot;`:"";return this.replaceHTMLPlaceholders(this.html,{id:e,label:t,style_str:n,width_str:i})}updateComponent(t=!1){if(super.updateComponent(t),typeof window>"u")return null;$(".component-container").find("select").selectize({labelField:"label",valueField:"value",searchField:["label"],placeholder:"select input"})}};var U=class extends c{html=`
        <div class="designer-element form-group shiny-input-container $date_class$" $style_str$
             data-shinyattributes="inputId = &quot;$id$&quot;, label = &quot;$label$&quot;$width_str$"
             data-shinyfunction="$r_func$">
             <label class="control-label">$label$</label>
             $input_tag$
        </div>
    `;date_input_html=`
        <input class="form-control" type="text" title="Date format: yyyy-mm-dd" placeholder="date input"
               data-date-language="en" data-date-week-start="0" data-date-format="yyyy-mm-dd"
               data-date-start-view="month" data-date-autoclose="true"/>
    `;date_range_input_html=`
        <div class="input-daterange input-group input-group-sm">
            <input class="form-control" type="text" title="Date format: yyyy-mm-dd" placeholder="date input"
                   data-date-language="en" data-date-week-start="0" data-date-format="yyyy-mm-dd"
                   data-date-start-view="month" data-date-autoclose="true"/>
            <span class="input-group-addon input-group-prepend input-group-append">
                <span class ="input-group-text"> to </span>
            </span>               
            <input class="form-control" type="text" title="Date format: yyyy-mm-dd" placeholder="date input"
                   data-date-language="en" data-date-week-start="0" data-date-format="yyyy-mm-dd"
                   data-date-start-view="month" data-date-autoclose="true"/>        
        </div>       
    `;constructor(){super(),this.updateComponent(!0)}createComponent(){let t=$("#sidebar-date-label").val(),e=$("#sidebar-date-id").val();e=e===""?this.createID("input"):e;let a=this.validateCssUnit($("#sidebar-date-width").val()),n=a?`style="width: ${a};"`:"",i=a?`, width = &quot;${a}&quot;`:"",l=document.getElementById("sidebar-date-range").checked,o=l?"dateRangeInput":"dateInput",r=l?"shiny-date-range-input":"shiny-date-input",d=l?this.date_range_input_html:this.date_input_html;return this.replaceHTMLPlaceholders(this.html,{id:e,label:t,r_func:o,date_class:r,input_tag:d,style_str:n,width_str:i})}updateComponent(t=!1){if(super.updateComponent(t),typeof window>"u")return null;$(".component-container").find("input").bsDatepicker()}};var O=class extends c{html=`
      <div class="designer-element form-group shiny-input-container" $style_str$
          data-shinyfunction="checkboxInput"
          data-shinyattributes="inputId = &quot;$id$&quot;, label = &quot;$label$&quot;$width_str$">
          <div class="checkbox">
              <label>
                  <input type="checkbox"><span>$label$</span>
              </label>
          </div>
      </div>
  `;constructor(){super(),this.updateComponent(!0)}createComponent(){let t=$("#sidebar-checkbox-label").val(),e=$("#sidebar-checkbox-id").val();e=e===""?this.createID("checkbox"):e;let a=this.validateCssUnit($("#sidebar-checkbox-width").val()),n=a?`style="width: ${a};"`:"",i=a?`, width = &quot;${a}&quot;`:"";return this.replaceHTMLPlaceholders(this.html,{id:e,label:t,style_str:n,width_str:i})}};var R=class extends c{types=[{value:"radio",label:"Radio",r_func:"radioButtons",role:"radiogroup"},{value:"checkbox",label:"Checkbox",r_func:"checkboxGroupInput",role:"group"}];html=`
        <div class="designer-element form-group shiny-input-container $css_class$" $style_str$
             data-shinyfunction="$r_func$" 
             data-shinyattributes="inputId = &quot;$id$&quot;, label = &quot;$label$&quot;$choices_str$$inline_str$$width_str$"
             role="$role">
            <label class="control-label">$label$</label>
            <div class="shiny-options-group">
                $choices$
            </div>
        </div>
    `;constructor(){super(),this.updateComponent(!0)}createComponent(){let t=$("#sidebar-radio-label").val(),e=$("#sidebar-radio-id").val();e=e===""?this.createID("checkbox"):e;let a=$("#sidebar-radio-type").val(),n=this.types.find(q=>q.value===a);if(!n)return;let i=n.r_func,l=n.role,o=this.validateCssUnit($("#sidebar-radio-width").val()),r=o?`style="width: ${o};"`:"",d=o?`, width = &quot;${o}&quot;`:"",u=document.getElementById("sidebar-radio-inline").checked,p=u?"-inline":"",f=u?", inline = TRUE":"",v=`shiny-input-${a}group${p}`,h=$("#sidebar-radio-choices").val(),_=`, choices = c(&quot;${h.replace(/\n/g,"&quot;, &quot;")}&quot;)`,K=h.split(`
`).map(q=>this.createCheckbox(q,a,u)).join("");return this.replaceHTMLPlaceholders(this.html,{id:e,label:t,css_class:v,r_func:i,role:l,choices:K,choices_str:_,inline_str:f,style_str:r,width_str:d})}createCheckbox(t,e="checkbox",a=!1){return`<label class="${a?e+"-inline":e}"><input type="${e}"><span>${t}</span></label>`}};var V=class extends c{html=`
        <div class="designer-element form-group shiny-input-container" $style_str$
             data-shinyattributes="inputId = &quot;$id$&quot;, label = &quot;$label$&quot;$value_str$$width_str$"
             data-shinyfunction="sliderInput">
            <label class="control-label">$label$</label>
            <input class="js-range-slider"
                   data-data-type="$format$" data-skin="shiny" data-grid="true" data-grid-num="10"
                   data-grid-snap="false" data-prettifyed-enabled="true" data-prettifyed-separator=","
                   data-keyboard="true" $range_attr$ data-time-format="$time_format$"
                   data-step="$step$" data-min="$min$" data-max="$max$" data-from="$from$">
        </div>
    `;constructor(){super(),this.updateComponent(!0)}createComponent(){let t=$("#sidebar-slider-label").val(),e=$("#sidebar-slider-id").val();e=e===""?this.createID("slider"):e;let a=$("#sidebar-slider-type").val(),n=this.validateCssUnit($("#sidebar-slider-width").val()),i=n?`style="width: ${n};"`:"",l=n?`, width = &quot;${n}&quot;`:"",o=document.getElementById("sidebar-slider-range").checked,r=this.getValues(a,o),d=o?'data-type="double" data-drag-interval="true" data-to="$to$"':"";return this.replaceHTMLPlaceholders(this.html,{range_attr:d,id:e,label:t,format:a,min:r.min,max:r.max,step:r.step,from:r.from,to:r.to,style_str:i,width_str:l,value_str:r.value_str,time_format:r.time_format})}getValues(t,e=!1){if(t==="number")return{step:1,min:0,max:10,from:5,to:7,value_str:`, min = 0, max = 10, value = ${e?"c(5, 7)":5}`};let a=new Date;t==="date"&&a.setHours(0,0,0,0);let n=a.getTime(),i=t==="date"?1e3*60*60*24:1e3,l=n-5*i,o=n+5*i,r=n,d=n+2*i,u=t==="date"?"Sys.Date()":"Sys.time()",p=t==="date"?"":"000",f=e?`"c(${u}, ${u} + 2${p})"`:u;return{step:i,min:l,max:o,from:r,to:d,time_format:t==="date"?"%F":"%F %T",value_str:`, min = ${u} - 5${p}, max = ${u} + 5${p}, value = ${f}`}}updateComponent(t=!1){if(super.updateComponent(t),typeof window>"u")return null;let e=$("#sidebar-slider-type").val();$(".component-container").find("input").ionRangeSlider({prettify:this.getSliderPrettifier(e)})}getSliderPrettifier(t){return t==="date"?function(e){let a=new Date(e);return a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()}:t==="datetime"?function(e){let a=new Date(e);return a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()}:null}};var A=class extends c{types=[{value:"default",css_class:"btn-default"},{value:"primary",css_class:"btn-primary"},{value:"secondary",css_class:"btn-secondary"},{value:"success",css_class:"btn-success"},{value:"danger",css_class:"btn-danger"},{value:"warning",css_class:"btn-warning"},{value:"info",css_class:"btn-info"},{value:"light",css_class:"btn-light"},{value:"dark",css_class:"btn-dark"}];html=`
        <button class="btn $btn_class$ action-button designer-element"
                type="button" $style_str$
                data-shinyfunction="$r_func$"
                data-shinyattributes="$id_arg$ = &quot;$id$&quot;$icon_r$$class_str$$width_str$">
            $icon_html$
            $label$
        </button>
    `;constructor(){super(),this.updateComponent(!0)}createComponent(){let t=$("#sidebar-button-label").val(),e=$("#sidebar-button-id").val();e=e===""?this.createID("input"):e;let a=$("#sidebar-button-type").val(),n=this.types.find(q=>q.value===a);if(!n)return;let i=n.css_class,l=a==="default"?"":`, class = &quot;${i}&quot;`,o=document.getElementById("sidebar-button-download").checked,r=o?"downloadButton":"actionButton",d=o?'<i class="fa fa-download" role="presentation" aria-label="download icon"></i>':"",u=o?"outputId":"inputId",p=$("#sidebar-button-icon").val(),f=p===""||o?"":`, icon = icon(&quot;${p}&quot;)`,v=p===""||o?"":$("#sidebar-button-icon option").html().includes("fab")?"fab":"fa";d=p===""||o?d:`<i aria-hidden="true" class="${v} fa-${p} fa-fw" role="presentation"></i>`;let h=this.validateCssUnit($("#sidebar-button-width").val()),_=h?`style="width: ${h};"`:"",K=h?`, width = &quot;${h}&quot;`:"";return this.replaceHTMLPlaceholders(this.html,{id:e,id_arg:u,label:t,r_func:r,icon_r:f,icon_html:d,btn_class:i,class_str:l,style_str:_,width_str:K})}};var F=class extends c{types=[{value:"text",label:"Text",css_class:"text-output-element shiny-text-output",r_func:"textOutput",placeholder:"Text Output: "},{value:"verbatim",label:"Verbatim Text",css_class:"verbatimtext-output-element shiny-text-output",r_func:"verbatimTextOutput",placeholder:"Verbatim Text Output: "},{value:"plot",label:"Plot",css_class:"plot-output-element shiny-plot-output",r_func:"plotOutput"},{value:"image",label:"Image",css_class:"image-output-element shiny-image-output",r_func:"imageOutput"},{value:"table",label:"Table",css_class:"table-output-element shiny-datatable-output",r_func:"DT::DTOutput"},{value:"html",label:"HTML",css_class:"html-output-element shiny-html-output",r_func:"uiOutput",placeholder:"Placeholder for HTML Output"}];html=`
        <$html_tag$ $id_str$ class="designer-element output-element $css_class$"
            style="$style_str$"
            data-shinyfunction="$r_func$"
            data-shinyattributes="outputId = &quot;$id$&quot;$inline_str$$dim_str$">
            $output_tag$
        </$html_tag$>
    `;constructor(){super(),this.updateComponent(!0)}createComponent(){let t=$("#sidebar-output-label").val(),e=$("#sidebar-output-id").val();e=e===""?this.createID("output"):e;let a=$("#sidebar-output-type").val(),n=this.types.find(h=>h.value===a);if(!n)return;let i=n.r_func,l=a==="verbatim"?"pre":"div",o=n.css_class,r="";if(["plot","image","table"].includes(a)){let h=this.createID("output");Shiny.setInputValue("sidebar-outputid",h),r=`id="sidebar-${h}"`}let u=document.getElementById("sidebar-output-inline").checked&&!["verbatim","table"].includes(a)?", inline = TRUE":"";u!==""&&(l="span");let p="",f="";if(["plot","image"].includes(a)){let h=this.validateCssUnit($("#sidebar-output-width").val(),"100%");f=`width: ${h};`,p=h==="100%"?"":`, width = &quot;${h}&quot;`;let _=this.validateCssUnit($("#sidebar-output-height").val(),"400px");f=f+` height: ${_};`,p=p+(_==="400px"?"":`, height = &quot;${_}&quot;`)}let v="";return n.placeholder&&(a==="html"?v=`<span>${n.placeholder}</span>`:v=`<span>${n.placeholder} ${$("#sidebar-output-textarea").val()}</span>`),this.replaceHTMLPlaceholders(this.html,{html_tag:l,id:e,label:t,id_str:r,r_func:i,css_class:o,style_str:f,dim_str:p,inline_str:u,output_tag:v})}updateComponent(t=!1){if(super.updateComponent(t),typeof window>"u")return null;Shiny.bindAll()}};var j=class extends c{_item=1;updateComponent(){}getPageType(){return $("#settings-page_type input:radio:checked").val()}addPage(){let t=this.getPageType(),e=$("#sidebar-tab-name").val(),a=$("#sidebar-tab-value").val();if(a==="")a=this.createID("tab");else if(this.checkDuplicateIDs(a,t))return;$("#sidebar-tab-alert div").alert("close"),t==="dashboardPage"?this.addMenuItem(e,a):this.addTab(e,a)}addTab(t,e){let a=$("ul.navbar-nav"),n=a.data("tabsetid"),i=$(".tab-content"),l=i.html()===""?"active":"",o=$("#sidebar-tab-icon").val(),r=o===""?"":`, icon = icon(&quot;${o}&quot;)`,d=o===""?"":$("#sidebar-tab-icon option").html().includes("fab")?"fab":"fa",u=o===""?"":`<i aria-hidden="true" class="${d} fa-${o} fa-fw" role="presentation"></i>`;a.append(`
            <li class="${l}">
                <a href="#tab-${n}-${this._item}" data-toggle="tab"
                   data-bs-toggle="tab" data-value="${e}" data-name="${t}">
                   ${u}
                   ${t}
                </a>
            </li>
        `),i.append(`
            <div class="tab-pane ${l}" data-value="${e}" id="tab-${n}-${this._item}"
                 data-shinyfunction="tabPanel" data-shinyattributes="title = &quot;${t}&quot;, value = &quot;${e}&quot;${r}"></div>
        `),this.enableSortablePage(`tab-${n}-${this._item}`),this._item=this._item+1}addMenuItem(t,e){let a=$("section.content .tab-content"),n=a.html()===""?"active":"",i=$("#sidebar-tab-icon").val(),l=i===""?"":`, icon = icon(&quot;${i}&quot;)`,o=i===""?"":$("#sidebar-tab-icon option").html().includes("fab")?"fab":"fa",r=i===""?"":`<i aria-hidden="true" class="${o} fa-${i} nav-icon" role="presentation"></i>`;$(".sidebarMenuSelectedTabItem").before(`
            <li class="nav-item" data-shinyfunction="bs4Dash::menuItem"
                data-shinyattributes="text = &quot;${t}&quot;, tabName = &quot;${e}&quot;${l}">
                <a class="nav-link ${n}" id="tab-${e}" href="#"
                   data-toggle="tab" data-target="#shiny-tab-${e}"
                   data-value="${e}" data-name="${t}">
                   ${r}
                    <p>${t}</p>
                </a>
            </li>
        `),$(".sidebarMenuSelectedTabItem").attr("data-value")||$(".sidebarMenuSelectedTabItem").attr("data-value",e),a.append(`
            <div role="tabpanel" data-value="${e}" id="shiny-tab-${e}"
                 class="tab-pane container-fluid ${n}"
                    data-shinyfunction="bs4Dash::tabItem" data-shinyattributes="tabName = &quot;${e}&quot;"></div>
        `),this.enableSortablePage(`shiny-tab-${e}`)}enableSortablePage(t){Sortable.create(document.getElementById(t),{group:{name:"shared",put:function(e,a,n){return!n.classList.contains("col-sm")}}})}checkDuplicateNames(t,e){return $(this.getNameIdentifier(t,e)).length>0?($("#sidebar-tab-alert").html(`
                <div class="alert alert-danger" role="alert">
                    ${t} is the name of an existing menu item. Please choose a unique name
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            `),!0):!1}getNameIdentifier(t,e){return e==="dashboardPage"?`ul.sidebar-menu a[data-name='${t}']`:`ul.navbar-nav a[data-name='${t}']`}checkDuplicateIDs(t,e){return $(this.getValueIdentifier(t,e)).length>0?($("#sidebar-tab-alert").html(`
                <div class="alert alert-danger" role="alert">
                    ${t} is the ID of an existing menu item. Please choose a unique ID
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            `),!0):!1}getValueIdentifier(t,e){return e==="dashboardPage"?`ul.sidebar-menu a[data-value='${t}']`:`ul.navbar-nav a[data-value='${t}']`}deletePage(){let t=this.getPageType(),e=$("#sidebar-tab-name").val(),a=$("#sidebar-tab-value").val();if(this.checkMissingName(e,t))return!0;if($(this.getNameIdentifier(e,t)).length>1&&a==="")return $("#sidebar-tab-alert").html(`
                <div class="alert alert-danger" role="alert">
                    Duplicate tabs contain the name "${e}" and no value has been provided. Please provide the specific ID of the tab to delete.
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            `),!0;$("#sidebar-tab-alert div").alert("close"),t==="dashboardPage"?(a=a===""?$(`ul.nav a[data-name='${e}']`).data("value"):a,this.deleteMenuItem(a)):(a=a===""?$(`ul.nav a[data-name='${e}']`).data("value"):a,this.deleteTab(a))}deleteTab(t){$(`ul.nav a[data-value='${t}']`).parent().remove(),$(`.tab-content .tab-pane[data-value='${t}']`).remove()}deleteMenuItem(t){$(`#tab-${t}`).parent().remove(),$(`#shiny-tab-${t}`).remove()}checkMissingName(t,e){return $(this.getNameIdentifier(t,e)).length>0?!1:($("#sidebar-tab-alert").html(`
                <div class="alert alert-danger" role="alert">
                    Unable to find a tab with the name "${t}"
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            `),!0)}};var z=class extends c{_item=1;id;html;is_tab=!0;constructor(){super(),this.id=this.getTabID(),this.isDashPage()?this.html=`
            <div class="designer-element $width_class$">
                <div class="card bs4Dash card-$colour$ card-outline card-outline-tabs tabset-designer-component">
                    <div class="card-header p-0 border-bottom-0">
                        <ul class="nav nav-tabs" data-tabsetid="$id$">$title$</ul>
                    </div>
                    <div class="card-body">
                        <div class="tab-content" data-tabsetid="$id$" data-shinyfunction="bs4Dash::bs4TabCard" 
                             data-shinyattributes="$title_r$status = &quot;$colour$&quot;, width = $width_r$"></div>
                    </div>
                </div>
                <script type="application /json">{
                    "title":"$label$","solidHeader":true,"width":$width$,"collapsible":false,"closable":false,"maximizable":false,
                    "gradient":false,"status":"$colour$"
                }<\/script>                
            </div>`:this.html=`
            <div class="tabbable designer-element tabset-designer-component">
                <ul class="nav nav-$type$" data-tabsetid="$id$"></ul>
                <div class="tab-content" data-tabsetid="$id$" data-shinyfunction="tabsetPanel" data-shinyattributes="type = &quot;$type$&quot;"></div>
            </div>`,this.updateComponent(!0)}createComponent(){if(this.isDashPage()){let t=$("#sidebar-tabset-label").val(),e=t===""?"":`<li class="pt-2 px-3"><h3 class="card-title">${t}</h3></li>`,a=t===""?"":`title = &quot;${t}&quot;, `,n=$("#sidebar-tabset-width_num").val(),i=n>0?`col-sm col-sm-${n}`:"",l=n>0?n:"NULL",o=$("#sidebar-tabset-colour").val(),r=o==="white"?"":`card-outline card-${o}`,d=$("#sidebar-tabset-background").val(),u=d==="white"?"":`bg-${d}`;return this.replaceHTMLPlaceholders(this.html,{id:this.id,title:e,title_r:a,label:t,width:n,width_class:i,width_r:l,colour:o,colour_class:r,background:d,background_class:u})}else{let t=$("#sidebar-tabset-type").val();return this.replaceHTMLPlaceholders(this.html,{id:this.id,type:t})}}isDashPage(){return this.getPageType()==="dashboardPage"}getPageType(){return typeof window>"u"?"navbarPage":$("#settings-page_type input:radio:checked").val()}addPage(){let t=$("#sidebar-tabset-name").val(),e=$("#sidebar-tabset-value").val();e===""&&(e=t),$("#sidebar-tabset-alert div").alert("close"),this.isDashPage()?this.addMenuItem(t,e):this.addTab(t,e)}addTab(t,e){let a=$(".component-container>.tabbable>.nav"),n=a.data("tabsetid"),i=$(".component-container>.tabbable>.tab-content"),l=i.children().length===0?"active":"",o=$("#sidebar-tabset-icon").val(),r=o===""?"":`, icon = icon(&quot;${o}&quot;)`,d=o===""?"":$("#sidebar-tabset-icon option").html().includes("fab")?"fab":"fa",u=o===""?"":`<i aria-hidden="true" class="${d} fa-${o} fa-fw" role="presentation"></i>`;a.append(`
            <li class="${l}">
                <a href="#tab-${n}-${this._item}" data-toggle="tab"
                   data-bs-toggle="tab" data-value="${e}" data-name="${t}">
                   ${u}
                   ${t}
                </a>
            </li>
        `),i.append(`
            <div class="tab-pane ${l}" data-value="${e}" id="tab-${n}-${this._item}"
                 data-shinyfunction="tabPanel" data-shinyattributes="title = &quot;${t}&quot;, value = &quot;${e}&quot;${r}"></div>
        `),this.enableSortablePage(`tab-${n}-${this._item}`),this._item=this._item+1}addMenuItem(t,e){let a=$(".component-container .card-header>.nav"),n=a.data("tabsetid"),i=$(".component-container .card-body>.tab-content"),l=i.children().length===0?"active":"",o=$("#sidebar-tabset-icon").val(),r=o===""?"":`, icon = icon(&quot;${o}&quot;)`,d=o===""?"":$("#sidebar-tabset-icon option").html().includes("fab")?"fab":"fa",u=o===""?"":`<i aria-hidden="true" class="${d} fa-${o} fa-fw" role="presentation"></i>`;a.append(`
            <li class="nav-item">
                <a href="#tab-${n}-${this._item}" class="nav-link ${l}" data-toggle="tab"
                   data-bs-toggle="tab" data-value="${e}" data-name="${t}">
                   ${u}
                   ${t}
                </a>
            </li>
        `),i.append(`
            <div class="tab-pane ${l}" data-value="${e}" id="tab-${n}-${this._item}"
                 data-shinyfunction="tabPanel" data-shinyattributes="title = &quot;${t}&quot;, value = &quot;${e}&quot;${r}"></div>
        `),this.enableSortablePage(`tab-${n}-${this._item}`),this._item=this._item+1}enableSortablePage(t){Sortable.create(document.getElementById(t),{group:{name:"shared",put:function(e,a,n){return!n.classList.contains("col-sm")}}})}checkDuplicateNames(t){return $(this.getNameIdentifier(t)).length>0?($("#sidebar-tabset-alert").html(`
                <div class="alert alert-danger" role="alert">
                    ${t} is the name of an existing menu item. Please choose a unique name
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            `),!0):!1}getNameIdentifier(t){return`.component-container .nav a[data-name='${t}']`}checkDuplicateIDs(t){return $(this.getValueIdentifier(t)).length>0?($("#sidebar-tabset-alert").html(`
                <div class="alert alert-danger" role="alert">
                    ${t} is the ID of an existing menu item. Please choose a unique ID
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            `),!0):!1}getValueIdentifier(t){return`.component-container .nav a[data-value='${t}']`}deletePage(){let t=$("#sidebar-tabset-name").val(),e=$("#sidebar-tabset-value").val();if(this.checkMissingName(t))return!0;if($(this.getNameIdentifier(t)).length>1&&e==="")return $("#sidebar-tabset-alert").html(`
                <div class="alert alert-danger" role="alert">
                    Duplicate tabs contain the name "${t}" and no value has been provided. Please provide the specific ID of the tab to delete.
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            `),!0;$("#sidebar-tabset-alert div").alert("close"),this.isDashPage()?(e===""?e=$(`.component-container .nav-item a[data-name='${t}']`).attr("href"):e="#"+$(`.component-container .tab-pane[data-value='${e}']`).attr("id"),this.deleteMenuItem(e)):(e=e===""?$(`.component-container ul.nav a[data-name='${t}']`).data("value"):e,this.deleteTab(e))}deleteTab(t){$(`.component-container .nav a[data-value='${t}']`).parent().remove(),$(`.component-container .tab-content .tab-pane[data-value='${t}']`).remove()}deleteMenuItem(t){$(`.component-container .nav-item a[href='${t}']`).parent().remove(),$(`${t}`).remove()}checkMissingName(t){return $(this.getNameIdentifier(t)).length>0?!1:($("#sidebar-tabset-alert").html(`
                <div class="alert alert-danger" role="alert">
                    Unable to find a tab with the name "${t}"
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            `),!0)}getTabID(){return Math.round(Math.random()*8999+1e3)}};var Y=class extends c{has_card_body=!0;html=`
        <div class="$width_class$ designer-element"
             data-shinyfunction="bs4Dash::bs4Card"
             data-shinyattributes="title = &quot;$label$&quot;, status = &quot;$colour$&quot;, background = &quot;$background$&quot;, width = $width_r$">
            <div class="card bs4Dash $colour_class$ $background_class$">
                <div class="card-header">
                    <h3 class="card-title">$label$</h3>
                    <div class="card-tools float-right">
                        <button class="btn btn-tool btn-sm $background_class$" type="button" data-card-widget="collapse">
                            <i class="fa fa-minus" role="presentation" aria-label="minus icon"></i>
                        </button>
                    </div>
                </div>
                <div class="card-body designer-element"></div>
            </div>
            <script type="application /json">{
                "solidHeader":true,"width":$width$,"collapsible":true,"closable":false,"maximizable":false,
                "gradient":false,"background":"$background$","status":"$colour$"
            }<\/script>
        </div>
    `;sortable_settings={group:{name:"shared",put:function(t,e,a){return!a.classList.contains("col-sm")}}};constructor(){super(),this.updateComponent(!0)}createComponent(){let t=$("#sidebar-box-label").val(),e=$("#sidebar-box-width_num").val(),a=e>0?`col-sm col-sm-${e}`:"",n=e>0?e:"NULL",i=$("#sidebar-box-colour").val(),l=i==="white"?"":`card-outline card-${i}`,o=$("#sidebar-box-background").val(),r=o==="white"?"":`bg-${o}`;return this.replaceHTMLPlaceholders(this.html,{label:t,width_class:a,width_r:n,colour:i,colour_class:l,background:o,background_class:r})}};var X=class extends c{has_card_body=!0;html=`
        <div class="$width_class$ designer-element"
             data-shinyfunction="bs4Dash::bs4UserCard"
             data-shinyattributes="title = bs4Dash::bs4userDescription(title = &quot;$label$&quot;, image = NULL, type = $type$), status = &quot;$colour$&quot;, background = &quot;$background$&quot;, type = $type$, width = $width_r$">
            <div class="card bs4Dash $background_class$ card-widget user-card widget-user">
                <div class="widget-user-header $colour_class$">
                    <div class="card-tools float-right">
                        <button class="btn btn-tool btn-sm btn-$colour$" type="button" data-card-widget="collapse">
                            <i class="fa fa-minus" role="presentation" aria-label="minus icon"></i>
                        </button>
                    </div>
                    <h3 class="widget-user-username">$label$</h3>
                </div>
                <div class="widget-user-image">
                    <img class="img-circle" alt="User Avatar" src="www/avatar.png"/>
                </div>                
                <div class="card-body designer-element" type="$type$"></div>
                <div class="card-footer"></div>
            </div>
        </div>
    `;sortable_settings={group:{name:"shared",put:function(t,e,a){return!a.classList.contains("col-sm")}}};constructor(){super(),this.updateComponent(!0)}createComponent(){let t=$("#sidebar-user_box-label").val(),e=$("#sidebar-user_box-width_num").val(),a=e>0?`col-sm col-sm-${e}`:"",n=e>0?e:"NULL",i=$("#sidebar-user_box-colour").val(),l=i==="white"?"":`card-outline card-${i}`,o=$("#sidebar-user_box-background").val(),r=o==="white"?"":`bg-${o}`,d=$("#sidebar-user_box-type").val();return this.replaceHTMLPlaceholders(this.html,{label:t,width_class:a,width_r:n,colour:i,colour_class:l,background:o,background_class:r,type:d})}};var W=class extends c{html=`
        <div class="$width_class$ designer-element"
             data-shinyfunction="bs4Dash::bs4ValueBox"
             data-shinyattributes="value = &quot;$value$&quot;, subtitle = &quot;$label$&quot;$icon_r$, color = &quot;$colour$&quot;, width = $width_r$">
            <div class="small-box $colour_class$">
                <div class="inner">
                    $value$
                    <p class="small-box-subtitle">
                        $label$
                    </p>
                </div>
                $icon_html$
                <div class="small-box-footer" style="height: 30px;"></div>
            </div>
        </div>
    `;constructor(){super(),this.updateComponent(!0)}createComponent(){let t=$("#sidebar-value_box-value").val(),e=$("#sidebar-value_box-label").val(),a=$("#sidebar-value_box-width_num").val(),n=a>0?`col-sm col-sm-${a}`:"",i=a>0?a:"NULL",l=$("#sidebar-value_box-icon").val(),o=l===""?"":`, icon = icon(&quot;${l}&quot;)`,r=l===""?"":$("#sidebar-value_box-icon option").html().includes("fab")?"fab":"fa",d=l===""?"":`<div class="icon"><i aria-hidden="true" class="${r} fa-${l} fa-fw" role="presentation"></i></div>`,u=$("#sidebar-value_box-background").val(),p=`bg-${u}`;return this.replaceHTMLPlaceholders(this.html,{value:t,label:e,width_class:n,width_r:i,icon_html:d,icon_r:o,colour:u,colour_class:p})}};var J=class extends c{html=`
        <div class="$width_class$ designer-element"
             data-shinyfunction="bs4Dash::bs4InfoBox"
             data-shinyattributes="value = &quot;$value$&quot;, subtitle = &quot;$label$&quot;$icon_r$, color = &quot;$colour$&quot;$fill_r$, width = $width_r$">
            <div class="info-box $colour_class$">
                <span class="info-box-icon $colour_class2$">
                    $icon_html$
                </span>
                <div class="info-box-content">
                    <span class="info-box-text">$label$</span>
                    <span class="info-box-number">$value$</span>
                </div>
                <div class="small-box-footer" style="height: 30px;"></div>
            </div>
        </div>
    `;constructor(){super(),this.updateComponent(!0)}createComponent(){let t=$("#sidebar-info_box-value").val(),e=$("#sidebar-info_box-label").val(),a=$("#sidebar-info_box-width_num").val(),n=a>0?`col-sm col-sm-${a}`:"",i=a>0?a:"NULL",l=$("#sidebar-info_box-icon").val(),o=l===""?"":`, icon = icon(&quot;${l}&quot;)`,r=l===""?"":$("#sidebar-info_box-icon option").html().includes("fab")?"fab":"fa",d=l===""?"":`<i aria-hidden="true" class="${r} fa-${l} fa-fw" role="presentation"></i>`,u=$("#sidebar-info_box-background").val(),p=`bg-${u}`,f=document.getElementById("sidebar-info_box-fill").checked,v=f?", fill = TRUE":"";return this.replaceHTMLPlaceholders(this.html,{value:t,label:e,width_class:n,width_r:i,icon_html:d,icon_r:o,colour:u,colour_class:f?p:"",colour_class2:f?"":p,fill_r:v})}};var G=class extends c{html='<blockquote class="designer-element quote-$colour$" data-shinyfunction="bs4Dash::blockQuote" data-shinyattributes="color = &quot;$colour$&quot;">$value$</blockquote>';constructor(){super(),this.updateComponent(!0)}createComponent(){let t=$("#sidebar-quote-colour").val(),e=$("#sidebar-quote-textarea").val();return this.replaceHTMLPlaceholders(this.html,{colour:t,value:e})}};var Q=class extends c{html=`
        <div class="designer-element $width_class$">
        <div class="callout callout-$status$" data-shinyfunction="bs4Dash::bs4Callout" 
             data-shinyattributes="title = &quot;$title$&quot;, status = &quot;$colour$&quot;, width = $width_r$">
           <h5>$title$</h5>
           $value$
        </div>
    `;constructor(){super(),this.updateComponent(!0)}createComponent(){let t=$("#sidebar-callout-label").val(),e=$("#sidebar-callout-colour").val(),a=$("#sidebar-callout-textarea").val(),n=$("#sidebar-callout-width_num").val(),i=n>0?`col-sm col-sm-${n}`:"",l=n>0?n:"NULL";return this.replaceHTMLPlaceholders(this.html,{title:t,status:e,value:a,width_r:l,width_class:i})}};function et(s){return s==="header"?new I:s==="row"?new w:s==="column"?new x:s==="text"?new B:s==="input_panel"?new C:["text_input","numeric","textarea","password"].includes(s)?new H(s):s==="dropdown"?new N:s==="file"?new E:s==="date"?new U:s==="checkbox"?new O:s==="radio"?new R:s==="slider"?new V:s==="button"?new A:s==="output"?new F:s==="tab_panel"?new j:s==="tabset"?new z:s==="box"?new Y:s==="user_box"?new X:s==="value_box"?new W:s==="info_box"?new J:s==="quote"?new G:s==="callout"?new Q:new I}function ft(){et("header"),$(".component-settings").on("change keyup",()=>g.updateComponent()),$(".component-comments").on("change blur",()=>g.updateComponent()),$(".component-container").on("mouseover",()=>{$(":focus").trigger("blur")}),$(".add-tab-button").on("click",()=>g.addPage()),$(".delete-tab-button").on("click",()=>g.deletePage()),$(".accordion .card-header .btn").on("click",s=>{$(s.target).closest(".card").find("form").trigger("reset");let t=$(s.target).data("shinyelement");et(t),document.getElementById("sidebar-container").style.display=t==="tab_panel"?"none":null})}function at(s,t=!1){let e=gt(s),a={tagName:s.tagName.toLowerCase(),r_function:s.dataset.shinyfunction,r_arguments:s.dataset.shinyattributes,r_comments:s.dataset.shinycomments,text:$(s).ignore().text().replace(/\s*\n\s*/g,""),htmlclass:s.className,children:e};return t?a:JSON.stringify(a)}$.fn.ignore=function(s){return this.clone().find(s||">*").remove().end()};function gt(s){let t=[];for(let e=0;e<s.children.length;e++)if(s.children[e].dataset.shinyfunction)t.push(at(s.children[e],!0));else if(s.children[e].children.length){let a=gt(s.children[e]);a.length>0&&(t=t.concat(a))}return t}var st=new Shiny.InputBinding;$.extend(st,{find:function(s){return $(s).find(".page-canvas")},getValue:function(s){return at(document.getElementById("canvas-page"))},subscribe:function(s,t){new MutationObserver(function(){t()}).observe(s,{subtree:!0,childList:!0,attributes:!0})},unsubscribe:function(s){$(s).off(".page-canvas")}});var it=new Shiny.InputBinding;$.extend(it,{find:function(s){return $(s).find(".page-canvas-shell")},getValue:function(s){return $(s).find(".page-canvas").html()},setValue:function(s,t){$(s).find(".page-canvas").html(t)},subscribe:function(s,t){new MutationObserver(function(){t()}).observe(s,{subtree:!0,childList:!0,attributes:!0})},unsubscribe:function(s){$(s).off(".page-canvas-shell")},receiveMessage(s,t){$(".canvas-modal").css("display","none"),y(),m.updatePage(),this.setValue(s,t);let e=new x(update_component=!1).sortable_settings,a=new w(update_component=!1).sortable_settings,n=new C(update_component=!1).sortableSettings;Mt.map(i=>nt(i,e)),nt("designer-element row",a),nt("designer-element shiny-input-panel",n),m.enable_on_load&&m.enableSortablePage("canvas-page"),m.updateComponentDropdown()}});var Mt=["tab-pane","designer-element col-sm","designer-element card-body"];function nt(s,t){document.getElementsByClassName(s).forEach(e=>{Sortable.create(e,t)})}$(function(){bt(),ft(),rt(),$t(),$(".help-icon").tooltip({boundary:"window",placement:"right"}),bsCustomFileInput.init(),Sortable.create(document.getElementById("sidebar-bin"),{group:{name:"shared",pull:!1},handle:".designer-element",draggable:".designer-element",onAdd:function(s){this.el.removeChild(s.item)}})});Shiny.inputBindings.register(st);Shiny.inputBindings.register(it);
//# sourceMappingURL=designer.min.js.map
